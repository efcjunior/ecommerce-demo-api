üß© CONTINUA√á√ÉO DO PROJETO - CLEAN ARCHITECTURE (JAVA SPRING BOOT)

Objetivo:
Reestruturar o projeto ecommerce-demo-api seguindo a Clean Architecture (Uncle Bob),
com foco em separa√ß√£o de camadas, modulariza√ß√£o Maven, entidades ricas e exce√ß√µes de dom√≠nio.

------------------------------------------------------------
üèó ESTRUTURA DE M√ìDULOS
------------------------------------------------------------
ecommerce-entities            ‚Üí Enterprise Business Rules (Entities)
ecommerce-usecases            ‚Üí Application Business Rules (Use Cases)
ecommerce-interface-adapters  ‚Üí Interface Adapters (Controllers, Gateways)
ecommerce-frameworks-drivers  ‚Üí Frameworks & Drivers (DB, Kafka, Elasticsearch, Security)

Fluxo de depend√™ncia:
frameworks-drivers ‚Üí interface-adapters ‚Üí usecases ‚Üí entities

------------------------------------------------------------
‚öôÔ∏è STATUS ATUAL
------------------------------------------------------------
- Todos os pom.xml corrigidos e hierarquia Maven configurada.
- Reestrutura√ß√£o feita de dentro para fora (entities ‚Üí usecases ‚Üí adapters ‚Üí frameworks).
- Entities Product, Order, User e relat√≥rios refatoradas como entidades ricas.
- Casos de uso ajustados para usar m√©todos de dom√≠nio, sem recriar entidades.
- Exce√ß√µes gen√©ricas substitu√≠das por exce√ß√µes espec√≠ficas de dom√≠nio.
- Regras de valida√ß√£o e consist√™ncia encapsuladas dentro das entidades.
- Padr√£o de exce√ß√µes centralizado na classe base DomainException.

------------------------------------------------------------
üß± ENTIDADES REESTRUTURADAS
------------------------------------------------------------
Product
- M√©todos: create(), update(), decreaseStock(), increaseStock()
- Exce√ß√µes: ValidationException, InsufficientStockException
- Garantias: nome n√£o vazio, pre√ßo > 0, estoque ‚â• 0

Order
- M√©todos: create(), pay(), cancel(), addItem()
- Exce√ß√µes: EmptyOrderException, InvalidOrderStateException, InvalidOrderTotalException
- Regras: pedido sem itens √© inv√°lido, total n√£o pode ser negativo, estado deve ser coerente

OrderItem
- Record imut√°vel com valida√ß√£o interna
- Exce√ß√µes: InvalidQuantityException, InvalidPriceException
- Regra: quantidade > 0, pre√ßo > 0

User
- Usa enum UserRole (ADMIN / USER)
- M√©todos de dom√≠nio: register(), isAdmin(), isUser()
- Valida√ß√£o de formato de e-mail e papel do usu√°rio

Relat√≥rios
- UserAverageTicket ‚Üí Exce√ß√£o: InvalidAverageTicketException
- UserPurchaseSummary ‚Üí Exce√ß√£o: InvalidTotalSpentException
- Ambos definidos como records imut√°veis e validados

------------------------------------------------------------
üí• EXCE√á√ïES DE DOM√çNIO
------------------------------------------------------------
DomainException (base) ‚Üí raiz para todas as exce√ß√µes do dom√≠nio
ValidationException / InvalidFieldException ‚Üí valida√ß√µes gen√©ricas
InsufficientStockException ‚Üí estoque insuficiente
InvalidOrderStateException ‚Üí transi√ß√£o de estado inv√°lida
EmptyOrderException ‚Üí pedido sem itens
InvalidOrderTotalException ‚Üí total negativo ou nulo
InvalidQuantityException ‚Üí quantidade ‚â§ 0
InvalidPriceException ‚Üí pre√ßo ‚â§ 0
InvalidAverageTicketException ‚Üí ticket m√©dio inv√°lido
InvalidTotalSpentException ‚Üí total gasto inv√°lido

------------------------------------------------------------
üéØ PR√ìXIMOS PASSOS SUGERIDOS
------------------------------------------------------------
1. Revisar exce√ß√µes restantes no m√≥dulo entities para manter padr√£o de nomenclatura.
2. Ajustar gateways e use cases para propagar apenas DomainException.
3. Implementar ExceptionHandler global no m√≥dulo interface-adapters.
4. Garantir consist√™ncia entre MySQL, Elasticsearch e eventos Kafka.
5. Finalizar testes unit√°rios de valida√ß√£o e exce√ß√µes de dom√≠nio.
6. Criar classe principal (Spring Boot starter) no m√≥dulo frameworks-drivers.

------------------------------------------------------------
üìÑ DOCUMENTOS DE REFER√äNCIA
------------------------------------------------------------
- Caso t√©cnico.pdf
- Fluxo de intera√ß√£o.pdf

------------------------------------------------------------
üìå COMO CONTINUAR
------------------------------------------------------------
Cole este prompt em um novo chat e diga:
"Continuar a partir deste contexto de reestrutura√ß√£o da Clean Architecture com exce√ß√µes de dom√≠nio."
